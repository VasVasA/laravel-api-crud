# Laravel REST API CRUD

## Установка

Устанавливаем пакеты:
```
composer install
npm install
```

Проводим миграции:
```
php artisan migrate
```

Запускаем проект:
```
php artisan serve
```

## Создание пользователя
Заходим в /register и регистрируемся.
Далее создаём токен для пользователя. Этот токен необходимо использовать для авторизации в проекте (при помощи Bearer
Token).

## API-роуты

Во всех запросах необходимо передавать токен пользователя

### Получение всех заказов, созданных текущим пользователем:

>GET /api/v1/order

Пример ответа:

```
{
    "data": [
        {
            "number": 111,
            "client_name": "Олегов Олег",
            "address": "Улица Есенина, дом Каруселина",
            "created_at": "2022-10-10T11:58:59.000000Z",
            "price": 90
        },
        {
            "number": 1111,
            "client_name": "Олегов Олег",
            "address": "Улица Есенина, дом Каруселина",
            "created_at": "2022-10-10T12:40:06.000000Z",
            "price": 90
        },
    ]
    "links": {
        "first": "http://127.0.0.1:8000/api/v1/order?page=1",
        "last": "http://127.0.0.1:8000/api/v1/order?page=1",
        "prev": null,
        "next": null
    },
    "meta": {
        "current_page": 1,
        "from": 1,
        "last_page": 1,
        "links": [
            {
                "url": null,
                "label": "&laquo; Previous",
                "active": false
            },
            {
                "url": "http://127.0.0.1:8000/api/v1/order?page=1",
                "label": "1",
                "active": true
            },
            {
                "url": null,
                "label": "Next &raquo;",
                "active": false
            }
        ],
        "path": "http://127.0.0.1:8000/api/v1/order",
        "per_page": 20,
        "to": 4,
        "total": 4
    }
}
```

### Создание заказа:

>POST /api/v1/order

```
{
    "number": "11111",
    "client_name": "Иванов Иван Иванович",
    "address": "Улица Есенина, 1",
    "products": [
        {
            "id": 1,
            "count": 1
        }, 
        {
            "id": 2,
            "count": 7
        }
    ]
}
```

products в данном случае - товары, добавляемые в заказ.

### Редактирование заказа:

>PUT /api/v1/order/{id}

Пример запроса:

```
{
    "address": "Улица Есенина, дом Пушкина"
}
```

Пример ответа:

```
{
    "data": {
        "number": "111",
        "client_name": "Олегов Олег",
        "address": "Улица Есенина, дом Пушкина",
        "created_at": "2022-10-10T11:58:59.000000Z",
        "price": 90
    }
}
```

>Важно! Отредактировать можно заказ, созданный только текущим пользователем

### Получение единичного заказа

>GET /api/v1/order/{id}

Пример ответа:

```
{
    "data": {
        "number": "111",
        "client_name": "Олегов Олег",
        "address": "Улица Есенина, дом Пушкина",
        "created_at": "2022-10-10T11:58:59.000000Z",
        "price": 90
    }
}
```

>Важно! Получить можно заказ, созданный только текущим пользователем

### Удаление заказа

>DELETE /api/v1/order/{id}

Пример ответа:

```
OK
```

>Важно! Получить можно заказ, созданный только текущим пользователем
